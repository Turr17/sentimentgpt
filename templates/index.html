<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Analisis Sentimen Penggunaan ChatGPT by Fatur Raihan</title>

    <!-- CSS FILES -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/bootstrap-icons.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/templatemo-topic-listing.css') }}" rel="stylesheet">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
</head>

<body class="topics-listing-page" id="top">
    <main>
        <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
            <div class="container">
                <a class="navbar-brand" href="{{ url_for('index') }}">
                    <span>ChatGPT Sentiment</span>
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-lg-5 me-lg-auto">
                        <li class="nav-item">
                            <a class="nav-link text-dark click-scroll" href="">Beranda</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link text-dark dropdown-toggle" href="{{ url_for('index') }}" id="navbarLightDropdownMenuLink"
                                role="button" data-bs-toggle="dropdown" aria-expanded="false">Klasifikasi Data</a>
                            <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarLightDropdownMenuLink">
                                <li><a class="dropdown-item" href="{{ url_for('upload') }}">Upload Data</a></li>
                                <li><a class="dropdown-item" href="{{ url_for('hasil') }}">Hasil Klasifikasi</a></li>
                            </ul>                                
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
            <div class="container">
                <div class="row">

                    <div class="col-lg-8 col-12 mx-auto">
                        <h1 class="text-white text-center">Analisis Sentimen</h1>
                        <h6 class="text-center text-white">Penggunaan ChatGPT dalam Pendidikan</h6>

                        <!-- Form Input Sentimen (Rencana mau dipake)
                        <form method="POST" class="custom-form mt-4 pt-2 mb-lg-0 mb-5" role="search">
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bi-search" id="basic-addon1"></span>
                                <input name="text" type="search" class="form-control" id="text"
                                    placeholder="Masukkan Teks" aria-label="Search" required>
                                <button type="submit" class="form-control">Prediksi</button>
                            </div>
                        </form>
                        {% if prediction %}
                            <div class="alert alert-light text-center mt-3" role="alert">
                                <strong>Prediksi Sentimen:</strong> {{ prediction }}
                            </div>
                        {% endif %}
                        -->

                    </div>
                </div>
            </div>
        </section>
<div class="container my-4">
    <!-- Row untuk Bar Chart dan Pie Chart -->
    <div class="row g-4 mb-4">
        <!-- Bar Chart -->
        <div class="col-lg-6 col-12">
            <div class="custom-block bg-white shadow-lg p-4 h-100">
                <h5 class="text-center mb-3">Barchart Jumlah Sentimen</h5>
                <canvas id="sentimentBarChart" height="250"></canvas>
            </div>
        </div>

        <!-- Pie Chart -->
        <div class="col-lg-6 col-12">
            <div class="custom-block bg-white shadow-lg p-4 h-100">
                <h5 class="text-center mb-3">Piechart Persentase Sentimen</h5>
                <canvas id="sentimentPieChart" height="250"></canvas>
            </div>
        </div>
    </div>

    <!-- WordCloud Full Width -->
    <div class="row">
        <div class="col-12">
            <div class="custom-block bg-white shadow-lg p-4">
                <h4 class="mb-4 text-center">Word Cloud per Sentimen</h4>

                <!-- Tab Navigation -->
                <ul class="nav nav-pills justify-content-center mb-3" id="wordcloudTab" role="tablist">
                    {% for sentimen in ['positif', 'negatif', 'netral'] %}
                        <li class="nav-item" role="presentation">
                            <button class="nav-link {% if loop.first %}active{% endif %}" id="{{ sentimen }}-tab"
                                    data-bs-toggle="pill"
                                    data-bs-target="#{{ sentimen }}-pane"
                                    type="button" role="tab"
                                    aria-controls="{{ sentimen }}-pane"
                                    aria-selected="{% if loop.first %}true{% else %}false{% endif %}">
                                {{ sentimen|capitalize }}
                            </button>
                        </li>
                    {% endfor %}
                </ul>

                <!-- Tab Content -->
                <div class="tab-content text-center" id="wordcloudTabContent">
                    {% for sentimen in ['positif', 'negatif', 'netral'] %}
                        <div class="tab-pane fade {% if loop.first %}show active{% endif %}" id="{{ sentimen }}-pane"
                             role="tabpanel" aria-labelledby="{{ sentimen }}-tab">
                            <div class="card mx-auto shadow-sm" style="max-width: 900px;">
                                <div class="card-header text-white text-center fw-bold"
                                     style="background-color:
                                            {% if sentimen == 'positif' %}#198754
                                            {% elif sentimen == 'negatif' %}#dc3545
                                            {% else %}#6c757d{% endif %};">
                                    Word Cloud Sentimen {{ sentimen|capitalize }}
                                </div>
                                <img src="{{ url_for('static', filename=wordcloud_images.get(sentimen)) }}"
                                     class="card-img-top img-fluid" alt="Wordcloud {{ sentimen }}">
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Top Word -->
    <h2 class="mt-4">Kata Terbanyak Berdasarkan Sentimen</h2>
{% for sentimen, words in top_words.items() %}
  <h4 class="mt-3 text-capitalize">{{ sentimen }}</h4>
  {% if words %}
    <table id="table_{{ sentimen }}" class="table table-bordered table-striped table-sm">
      <thead class="thead-dark">
        <tr>
          <th>Kata</th>
          <th>Jumlah Muncul</th>
        </tr>
      </thead>
      <tbody>
        {% for word, count in words %}
        <tr>
          <td>{{ word }}</td>
          <td>{{ count }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-muted">Tidak ada kata ditemukan untuk sentimen ini.</p>
  {% endif %}
{% endfor %}


</div>                           
            <div class="container">
                <div class="row justify-content-center">

                    <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                        <div class="custom-block bg-white shadow-lg">
                            <a href="https://chatgpt.com/">
                                <div class="d-flex">
                                    <div>
                                        <h5 class="mb-2">Deskripsi Umum</h5>

                                        <p class="mb-0">ChatGPT adalah model bahasa besar (large language model) yang dikembangkan oleh OpenAI. Ia berfungsi seperti chatbot AI yang dapat melakukan percakapan berbasis teks dengan manusia, mirip seperti percakapan antar manusia. Ia menggunakan teknik "Generative Pre-trained Transformer" (GPT) untuk menghasilkan teks responsif dan menjawab pertanyaan pengguna. </p>
                                    </div>
                                </div>

                                <img src="{{ url_for('static', filename='assets/images/topics/chatgpt.png') }}" class="custom-block-image img-fluid" alt="">
                            </a>
                        </div>
                    </div>

                    <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                        <div class="custom-block bg-white shadow-lg">
                            <a href="https://youtu.be/BxryBUtUqEk?si=N3loQj50yJZiVeJW">
                                <div class="d-flex">
                                    <div>
                                        <h5 class="mb-2">Tujuan</h5>

                                        <p class="mb-0">Website ini bertujuan untuk mengetahui hasil analisis sentimen penggunaan ChatGPT dalam pendidikan yang sumber datanya diperoleh dari platform media sosial Twitter yang saat ini dikenal sebagai X. Proses pengambilan data Tweet dijalankan menggunakan Tweet Harvest yang dibuat oleh Helmi Satria menggunakan Node Js.</p>
                                    </div>
                                </div>

                                <img src="{{ url_for('static', filename='assets/images/X.png') }}" class="custom-block-image img-fluid" alt="">
                            </a>
                        </div>
                    </div>

                    <!-- <div class="col-lg-6 col-12">
                        <div class="custom-block custom-block-overlay">
                            <div class="d-flex flex-column h-100">
                                <img src="{{ url_for('static', filename='assets/images/X.png') }}" class="custom-block-image img-fluid" alt="">

                                <div class="custom-block-overlay-text d-flex">
                                    <div>
                                        <h5 class="text-white mb-2">Tujuan</h5>

                                        <p class="text-white">Website ini bertujuan untuk mengetahui hasil analisis sentimen penggunaan ChatGPT dalam pendidikan yang sumber datanya diperoleh dari platform media sosial Twitter yang saat ini dikenal sebagai X.</p>

                                        <a href="topics-detail.html" class="btn custom-btn mt-2 mt-lg-3">Lihat Selengkapnya</a>
                                    </div>
                                </div>

                                <div class="social-share d-flex">
                                    <p class="text-white me-4">Share:</p>

                                    <ul class="social-icon">
                                        <li class="social-icon-item">
                                            <a href="#" class="social-icon-link bi-twitter"></a>
                                        </li>

                                        <li class="social-icon-item">
                                            <a href="#" class="social-icon-link bi-facebook"></a>
                                        </li>
                                </div>

                                <div class="section-overlay"></div>
                            </div>
                        </div>
                    </div> -->

                </div>
            </div>
        </section>

<footer class="site-footer section-padding">
        <div class="container-fluid">
            <div class="row">

                <div class="col-lg-3 col-md-4 col-6">
                    <h6 class="site-footer-title mb-3">Resources</h6>

                    <ul class="site-footer-links">
                        <li class="site-footer-link-item">
                            <a href="{{ url_for('index') }}" class="site-footer-link">Beranda</a>
                        </li>

                        <li class="site-footer-link-item">
                            <a href="{{ url_for('upload') }}" class="site-footer-link">Upload Data</a>
                        </li>

                        <li class="site-footer-link-item">
                            <a href="{{ url_for('hasil') }}" class="site-footer-link">Hasil Klasifikasi</a>
                        </li>
                    </ul>
                </div>

                <div class="col-lg-3 col-md-4 col-6 mb-4 mb-lg-0">
                    <h6 class="site-footer-title mb-3">Information</h6>

                    <p class="text-white d-flex">
                        <a href="mailto:fatur21si@mahasiswa.pcr.ac.id" class="site-footer-link">
                            fatur21si@mahasiswa.pcr.ac.id
                        </a>
                    </p>
                </div>

                <div class="col-lg-3 col-md-4 col-12 mt-4 mt-lg-0 ms-auto">

                    <p class="copyright-text mt-lg-5 mt-4">Copyright Â© 2048 Topic Listing Center. All rights reserved.
                    <br><br>Design: <a rel="nofollow" href="https://templatemo.com" target="_blank">TemplateMo</a> Distribution <a href="https://themewagon.com">ThemeWagon</a></p>
                    
                </div>

            </div>
        </div>
    </footer>
    </main>

    <!-- JS FILES -->
    <script src="{{ url_for('static', filename='assets/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/jquery.sticky.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/custom.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('sentimentBarChart').getContext('2d');
        const sentimentChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Positif', 'Negatif', 'Netral'],
                datasets: [{
                    label: 'Jumlah Sentimen',
                    data: [
                        {{ sentiment_count.get('positif', 0) }},
                        {{ sentiment_count.get('negatif', 0) }},
                        {{ sentiment_count.get('netral', 0) }}
                    ],
                    backgroundColor: [
                        'rgba(40, 167, 69, 0.7)', // Positif (Hijau)
                        'rgba(220, 53, 69, 0.7)', // Negatif (Merah)
                        'rgba(108, 117, 125, 0.7)' // Netral (Abu-abu)
                    ],
                    borderColor: [
                        'rgba(40, 167, 69, 1)',
                        'rgba(220, 53, 69, 1)',
                        'rgba(108, 117, 125, 1)'
                    ],
                    borderWidth: 1
                } ]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            precision: 0
                        }
                    }
                }
            }
        });
    </script>
<script>
    const pieCtx = document.getElementById('sentimentPieChart').getContext('2d');
    new Chart(pieCtx, {
        type: 'pie',
        data: {
            labels: ['Positif', 'Negatif', 'Netral'],
            datasets: [{
                label: 'Persentase Sentimen',
                data: [
                    {{ sentiment_percentage.get('positif', 0) }},
                    {{ sentiment_percentage.get('negatif', 0) }},
                    {{ sentiment_percentage.get('netral', 0) }}
                ],
                    backgroundColor: [
                        'rgba(40, 167, 69, 0.7)', // Positif (Hijau)
                        'rgba(220, 53, 69, 0.7)', // Negatif (Merah)
                        'rgba(108, 117, 125, 0.7)' // Netral (Abu-abu)
                    ],
                    borderColor: [
                        'rgba(40, 167, 69, 1)',
                        'rgba(220, 53, 69, 1)',
                        'rgba(108, 117, 125, 1)'
                    ],
                    borderWidth: 1
            }]
        },
        options: {
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return context.label + ': ' + context.parsed + '%';
                        }
                    }
                }
            }
        }
    });
</script>
<!-- jQuery (wajib untuk DataTables) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script>
  $(document).ready(function() {
    {% for sentimen in top_words.keys() %}
      $('#table_{{ sentimen }}').DataTable({
        pageLength: 10,
        lengthChange: false,
        language: {
          search: "Cari:",
          paginate: {
            previous: "Sebelumnya",
            next: "Berikutnya"
          },
          zeroRecords: "Tidak ada data ditemukan",
          info: "Menampilkan _START_ sampai _END_ dari _TOTAL_ kata",
          infoEmpty: "Tidak ada data tersedia"
        }
      });
    {% endfor %}
  });
</script>
</body>
</html>